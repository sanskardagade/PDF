/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{667:function(wa,ua,b){b.r(ua);b.d(ua,"ByteRangeRequest",function(){return w});var la=b(0),na=b(1);b.n(na);var oa=b(2),ja=b(240);wa=b(144);var ia=b(395),ca=b(115),x=b(111),y=b(394),n=b(270);b=b(589);var h=[],f=[],r=window,e=function(){return function(){this.Xr=1}}(),a;(function(z){z[z.UNSENT=0]="UNSENT";z[z.DONE=4]="DONE"})(a||(a={}));var w=function(){function z(fa,ea,ha,ba){var qa=this;this.url=fa;this.range=ea;this.bg=ha;this.withCredentials=
ba;this.osa=a;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);r.Uint8Array&&(this.request.responseType="arraybuffer");ba&&(this.request.withCredentials=ba);aa.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(ea.stop)?this.request.setRequestHeader("Range","bytes=".concat(ea.start)):this.request.setRequestHeader("Range",["bytes=",ea.start,"-",ea.stop-1].join("")));ha&&Object.keys(ha).forEach(function(ka){qa.request.setRequestHeader(ka,ha[ka])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):
this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}z.prototype.start=function(fa){var ea=this,ha=this.request;ha.onreadystatechange=function(){if(ea.aborted)return ea.status=y.a.ABORTED,fa({code:y.a.ABORTED});if(this.readyState===ea.osa.DONE){ea.pO();var ba=0===window.document.URL.indexOf("file:///");200===ha.status||206===ha.status||ba&&0===ha.status?(ba=r.Hda(this),ea.b4(ba,fa)):(ea.status=y.a.ERROR,fa({code:ea.status,status:ea.status}))}};this.request.send(null);
this.status=y.a.STARTED};z.prototype.b4=function(fa,ea){this.status=y.a.SUCCESS;if(ea)return ea(!1,fa)};z.prototype.abort=function(){this.pO();this.aborted=!0;this.request.abort()};z.prototype.pO=function(){var fa=Object(n.c)(this.url,this.range,f);-1!==fa&&f.splice(fa,1);if(0<h.length){fa=h.shift();var ea=new z(fa.url,fa.range,this.bg,this.withCredentials);fa.request=ea;f.push(fa);ea.start(Object(n.d)(fa))}};z.prototype.extend=function(fa){var ea=Object.assign({},this,fa.prototype);ea.constructor=
fa;return ea};return z}(),aa=function(z){function fa(ea,ha,ba,qa,ka){ba=z.call(this,ea,ba,qa)||this;ba.yn={};ba.cM=ha;ba.url=ea;ba.DISABLE_RANGE_HEADER=!1;ba.uI=w;ba.M5=3;ba.bg=ka||{};return ba}Object(la.d)(fa,z);fa.prototype.qF=function(ea,ha,ba){var qa=-1===ea.indexOf("?")?"?":"&";switch(ba){case !1:case x.a.NEVER_CACHE:ea="".concat(ea+qa,"_=").concat(Object(na.uniqueId)());break;case !0:case x.a.CACHE:ea="".concat(ea+qa,"_=").concat(ha.start,",").concat(Object(na.isUndefined)(ha.stop)?"":ha.stop)}return ea};
fa.prototype.raa=function(ea,ha,ba,qa){void 0===ba&&(ba={});return new this.uI(ea,ha,ba,qa)};fa.prototype.XEa=function(ea,ha,ba,qa,ka){for(var ma=0;ma<h.length;ma++)if(Object(na.isEqual)(h[ma].range,ha)&&Object(na.isEqual)(h[ma].url,ea))return h[ma].Qj.push(qa),h[ma].$P++,null;for(ma=0;ma<f.length;ma++)if(Object(na.isEqual)(f[ma].range,ha)&&Object(na.isEqual)(f[ma].url,ea))return f[ma].Qj.push(qa),f[ma].$P++,null;ba={url:ea,range:ha,cM:ba,Qj:[qa],$P:1};if(0===h.length&&f.length<this.M5)return f.push(ba),
ba.request=this.raa(ea,ha,ka,this.withCredentials),ba;h.push(ba);return null};fa.prototype.Du=function(ea,ha,ba){var qa=this.qF(ea,ha,this.cM);(ea=this.XEa(qa,ha,this.cM,ba,this.bg))&&ea.request.start(Object(n.d)(ea));return function(){var ka=Object(n.c)(qa,ha,f);if(-1!==ka){var ma=--f[ka].$P;0===ma&&f[ka].request&&f[ka].request.abort()}else ka=Object(n.c)(qa,ha,h),-1!==ka&&(ma=--h[ka].$P,0===ma&&h.splice(ka,1))}};fa.prototype.Yca=function(){return{start:-ja.a}};fa.prototype.nLa=function(){var ea=
-(ja.a+ja.e);return{start:ea-ja.d,end:ea}};fa.prototype.LB=function(ea){var ha=this;this.mM=!0;var ba=ja.a;this.Du(this.url,this.Yca(),function(qa,ka,ma){function ra(){var pa=ha.gf.Tca();ha.Du(ha.url,pa,function(sa,ta){if(sa)return Object(oa.j)("Error loading central directory: ".concat(sa)),ea(sa);ta=Object(ca.a)(ta);if(ta.length!==pa.stop-pa.start)return ea("Invalid XOD file: Zip central directory data is wrong size! Should be ".concat(pa.stop-pa.start," but is ").concat(ta.length));ha.gf.kja(ta);
ha.UV=!0;ha.mM=!1;return ea(!1)})}if(qa)return Object(oa.j)("Error loading end header: ".concat(qa)),ea(qa,ka,ma);ka=Object(ca.a)(ka);if(ka.length!==ba)return ea("Invalid XOD file: Zip end header data is wrong size!");try{ha.gf=new ia.a(ka)}catch(pa){return ea(pa)}ha.gf.WOa?ha.Du(ha.url,ha.nLa(),function(pa,sa){if(pa)return Object(oa.j)("Error loading zip64 header: ".concat(pa)),ea(pa);sa=Object(ca.a)(sa);ha.gf.DPa(sa);ra()}):ra()})};fa.prototype.Bda=function(ea){ea(Object.keys(this.gf.Tt))};fa.prototype.S1=
function(ea,ha){var ba=this;if(this.gf.Z$(ea)){var qa=this.gf.jG(ea);if(qa in this.yn){var ka=this.qk[ea];ka.cA=this.yn[qa];ka.cA.Xr++;ka.cancel=ka.cA.cancel}else{var ma=this.gf.XHa(ea),ra=this.Du(this.url,ma,function(sa,ta){sa?(Object(oa.j)('Error loading part "'.concat(ea,'": ').concat(sa)),ba.Du(ba.url,ma,function(va,xa){if(va)return ha(va,ea);ba.oja(xa,ma,qa,ea,ha)})):ba.oja(ta,ma,qa,ea,ha)}),pa=this.qk[ea];pa&&(pa.Mma=!0,pa.cancel=function(){pa.cA.Xr--;0===pa.cA.Xr&&(ra(),delete ba.yn[qa])},
this.yn[qa]=new e(qa),pa.cA=this.yn[qa],pa.cA.cancel=pa.cancel)}}else delete this.qk[ea],ha(Error('File not found: "'.concat(ea,'"')),ea)};fa.prototype.oja=function(ea,ha,ba,qa,ka){if(ea.length!==ha.stop-ha.start)ka(Error("Part data is wrong size!"),qa);else{do{if(!this.yn[ba])return;qa=this.yn[ba].Xr;for(var ma=ha.by.length,ra=0;ra<ma;++ra){var pa=ha.by[ra];ka(!1,pa.Yx,ea["string"===typeof ea?"substring":"subarray"](pa.start,pa.stop),this.gf.pfa(pa.Yx));pa.Yx in this.qk&&delete this.qk[pa.Yx]}}while(qa!==
this.yn[ba].Xr);delete this.yn[ba]}};fa.DISABLE_RANGE_HEADER=!1;fa.M5=3;return fa}(wa.a);(function(z){function fa(ea,ha,ba){var qa=z.call(this)||this,ka;for(ka in ea)qa[ka]=ea[ka];qa.N7a=ea;qa.startOffset=ha;qa.endOffset=ba;qa.raa=function(ma,ra,pa,sa){Object(na.isUndefined)(ra.stop)?(ra.start+=qa.endOffset,ra.stop=qa.endOffset):(ra.start+=qa.startOffset,ra.stop+=qa.startOffset);ma=qa.qF(qa.url,ra,qa.cM);return new ea.uI(ma,ra,pa,sa)};return qa}Object(la.d)(fa,z);return fa})(aa);Object(b.a)(aa);Object(b.b)(aa);
ua["default"]=aa}}]);}).call(this || window)
